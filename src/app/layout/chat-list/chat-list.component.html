<div class="chatListShell">

  <!-- ðŸŒŒ BACKGROUND -->
  <div class="bg"></div>
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>

  <!-- HEADER -->
  <header class="listHeader">
    <div class="headerTitle">
      Chats
      <span class="count">{{ chats.length }}</span>
    </div>

    <a class="addBtn" [routerLink]="['/app/create-room']">âž•</a>
  </header>

  <!-- LOADING -->
  <div class="loadingBox" *ngIf="loading">
    <div class="spinner"></div>
    <div class="loadingText">Loading chats...</div>
  </div>

  <!-- EMPTY -->
  <div *ngIf="!loading && chats.length === 0" class="empty">
    <div class="emoji">ðŸ’¬</div>
    <h3>No chats yet</h3>
    <p>Start your first conversation</p>

    <button class="primary" routerLink="/app/users">
      âž• Start Chat
    </button>

    <div class="tip">
      Tip: Open <b>Users</b> and tap anyone to chat
    </div>
  </div>

  <!-- CHAT LIST -->
  <div *ngIf="!loading && chats.length > 0" class="chatList">
    <a
      class="chatItem"
      *ngFor="let c of chats; trackBy: trackByChatId"
      [routerLink]="['/chat', c.id]"
    >

      <!-- AVATAR -->
      <div class="avatar">
        {{ iconByType(c.type) }}
      </div>

      <!-- INFO -->
      <div class="info">
        <div class="row1">
          <div class="title">{{ c.title }}</div>

          <span
            class="badge"
            [class.dm]="c.type==='dm'"
            [class.group]="c.type==='group'"
            [class.channel]="c.type==='channel'"
          >
            {{ c.type }}
          </span>
        </div>

        <div class="subtitle">
          {{ c.lastMessage || 'No messages yet...' }}
        </div>
      </div>

      <!-- UNREAD -->
      <div class="unread" *ngIf="c.unread > 0">
        {{ c.unread }}
      </div>
    </a>
  </div>

</div>
