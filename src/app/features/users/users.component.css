/* =========================================================
   âœ… Chatloop - Users Page (Admin Premium v2)
   file: users.component.css
   FIXES:
   âœ… stable height
   âœ… scroll only inside routeWrap/page
   âœ… better glass + cards
========================================================= */

:host{
  display:block;
  width:100%;
  height:100%;
  min-height:0;

  /* theme fallback */
  --theme: var(--theme, #7c3aed);
  --theme-2: var(--theme-2, #3b82f6);

  --bg: var(--bg, #050816);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.72);
  --border: rgba(255,255,255,0.10);

  --glass: rgba(255,255,255,0.05);
  --glass2: rgba(255,255,255,0.08);

  --shadow: 0 22px 70px rgba(0,0,0,0.48);
  --shadowSoft: 0 12px 34px rgba(0,0,0,0.35);

  --r: 24px;
  --r2: 18px;

  --t: .18s ease;
}

*{ box-sizing:border-box; }

/* =========================================================
   âœ… Page wrapper
========================================================= */
.page{
  position:relative;
  height:100%;
  min-height:0;
  overflow:auto;

  padding: 16px 16px 34px;

  background: var(--bg);
  color: var(--text);
  isolation:isolate;
}

/* Scrollbar */
.page::-webkit-scrollbar{ width:10px; }
.page::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.12);
  border-radius:999px;
}
.page::-webkit-scrollbar-track{ background:transparent; }

/* =========================================================
   ðŸŒŒ Background
========================================================= */
.bg{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;

  background:
    radial-gradient(1000px 680px at 18% 10%, rgba(124,58,237,0.18), transparent 55%),
    radial-gradient(900px 650px at 82% 85%, rgba(59,130,246,0.14), transparent 62%),
    radial-gradient(700px 450px at 50% 100%, rgba(34,211,238,0.09), transparent 60%);

  filter: blur(90px);
  opacity:.95;
}

.orb{
  position:fixed;
  width:560px;
  height:560px;
  border-radius:999px;
  filter: blur(180px);
  opacity:0.18;
  pointer-events:none;
  z-index:0;
  animation: floatOrb 11s ease-in-out infinite;
}
.orb1{ background: var(--theme); top:-280px; left:-280px; }
.orb2{ background: var(--theme-2); bottom:-300px; right:-300px; animation-delay:2.6s; }

@keyframes floatOrb{
  0%,100%{ transform: translate(0,0); }
  50%{ transform: translate(45px,-26px); }
}

/* =========================================================
   Container
========================================================= */
.wrap{
  position:relative;
  z-index:2;
  max-width: 1080px;
  margin: 0 auto;
}

/* =========================================================
   âœ… Header
========================================================= */
.header{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:14px;

  padding: 14px;
  border-radius: var(--r);

  background: rgba(8,12,26,0.80);
  border: 1px solid var(--border);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  box-shadow: var(--shadowSoft);
}

.hLeft h2{
  margin:0;
  font-size: 18px;
  font-weight:1000;
  letter-spacing:.2px;
}

.sub{
  margin: 6px 0 0;
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
}

.searchWrap{
  position:relative;
  width:min(420px, 100%);
}

.ico{
  position:absolute;
  left:14px;
  top:50%;
  transform: translateY(-50%);
  opacity:0.65;
  pointer-events:none;
}

.search{
  width:100%;
  height: 46px;
  padding: 0 14px 0 44px;
  border-radius: 18px;

  border:1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: var(--text);

  font-weight:900;
  font-size: 13px;
  outline:none;

  transition: var(--t);
}

.search:focus{
  border-color: rgba(124,58,237,0.55);
  box-shadow: 0 0 0 4px rgba(124,58,237,0.18);
}

/* =========================================================
   âœ… Loading card
========================================================= */
.loadingCard{
  margin-top: 14px;
  padding: 14px;
  border-radius: var(--r);

  display:flex;
  align-items:center;
  gap:12px;

  background: var(--glass);
  border: 1px solid var(--border);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  font-weight: 1000;
  box-shadow: var(--shadowSoft);
}

.spinner{
  width:18px;
  height:18px;
  border-radius:999px;
  border:2px solid rgba(255,255,255,0.22);
  border-top-color: rgba(255,255,255,0.90);
  animation: spin .9s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg);} }

.loadingText{
  font-size: 13px;
  opacity: 0.92;
}

/* =========================================================
   âœ… Grid layout
========================================================= */
.grid{
  margin-top: 14px;

  display:grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 14px;
  align-items:start;
}

/* =========================================================
   âœ… Cards
========================================================= */
.card{
  padding: 16px;
  border-radius: var(--r);

  background: var(--glass);
  border: 1px solid var(--border);

  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);

  box-shadow: var(--shadowSoft);
}

.listCard{ padding: 12px; }

.cardTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 12px;
}

.cardTop h3{
  margin:0;
  font-size: 15px;
  font-weight: 1000;
}

.miniSub{
  margin: 6px 0 0;
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
}

.pill{
  min-width: 40px;
  height: 30px;
  padding: 0 10px;
  border-radius: 999px;

  display:grid;
  place-items:center;

  font-size: 12px;
  font-weight:1000;

  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
}

/* =========================================================
   âœ… User list (make it stable)
========================================================= */
.userList{
  max-height: 68vh;
  overflow:auto;
  padding-right: 4px;
}

.userList::-webkit-scrollbar{ width:10px; }
.userList::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.12);
  border-radius:999px;
}

/* =========================================================
   âœ… User Row (Improved)
========================================================= */
.userRow{
  padding: 12px;
  border-radius: var(--r);

  margin: 10px 4px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;

  background: rgba(255,255,255,0.045);
  border:1px solid rgba(255,255,255,0.09);

  transition: var(--t);
}

.userRow:hover{
  transform: translateY(-1px);
  border-color: rgba(124,58,237,0.22);
  background: rgba(255,255,255,0.065);
}

.left{
  display:flex;
  align-items:center;
  gap: 12px;
  cursor:pointer;

  min-width:0;
  flex:1;
}

.avatar{
  width:46px;
  height:46px;
  border-radius:999px;
  display:grid;
  place-items:center;

  font-weight:1000;
  font-size: 18px;
  color:white;

  background: linear-gradient(135deg, rgba(124,58,237,0.95), rgba(59,130,246,0.85));
  border: 1px solid rgba(255,255,255,0.16);

  box-shadow: 0 16px 40px rgba(0,0,0,0.35);
  flex-shrink:0;
}

.info{ min-width:0; }
.name{
  font-weight:1000;
  font-size: 14px;

  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.sub2{
  margin-top: 6px;
  font-size: 12px;
  color: var(--muted);
  font-weight:900;

  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* âœ… Action buttons */
.actions{
  display:flex;
  gap: 10px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

/* =========================================================
   âœ… Buttons
========================================================= */
.btn{
  height: 38px;
  padding: 0 12px;
  border-radius: 14px;

  font-size: 12px;
  font-weight: 1000;

  cursor:pointer;
  border:0;
  transition: var(--t);
  white-space:nowrap;
}

.btn:active{ transform: scale(.98); }

.btn.ghost{
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: var(--text);
}
.btn.ghost:hover{
  transform: translateY(-1px);
  border-color: rgba(124,58,237,0.22);
  background: rgba(124,58,237,0.10);
}

.btn.danger{
  background: rgba(255,87,87,0.14);
  border: 1px solid rgba(255,87,87,0.22);
  color: rgba(255,200,200,0.95);
}
.btn.danger:hover{
  transform: translateY(-1px);
  filter: brightness(1.05);
}

.btn.primary{
  color:white;
  background: linear-gradient(135deg, var(--theme), var(--theme-2));
  box-shadow: 0 18px 44px rgba(0,0,0,0.35);
}
.btn.primary:hover{
  transform: translateY(-1px);
  filter: brightness(1.06);
}

.btn.full{
  width:100%;
  height: 46px;
  border-radius: 18px;
}

/* =========================================================
   âœ… Close button
========================================================= */
.xBtn{
  width: 40px;
  height: 40px;
  border-radius: 16px;
  cursor:pointer;

  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: var(--text);

  transition: var(--t);
}
.xBtn:hover{
  transform: translateY(-1px);
  border-color: rgba(255,87,87,0.26);
  background: rgba(255,87,87,0.10);
}

/* =========================================================
   Details rows
========================================================= */
.detail .row{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.detail .row:last-child{ border-bottom:0; }

.detail span{
  color: var(--muted);
  font-size: 12px;
  font-weight:900;
}
.detail b{
  font-size: 12px;
  font-weight:1000;
  text-align:right;
  word-break: break-word;
}

/* =========================================================
   Form
========================================================= */
.form label{
  display:block;
  margin: 10px 0 8px;
  font-size: 12px;
  font-weight: 900;
  color: rgba(255,255,255,0.78);
}

.form input{
  width:100%;
  height: 44px;
  padding: 0 14px;
  border-radius: 16px;

  border:1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: var(--text);

  outline:none;
  font-size: 13px;
  font-weight: 900;
  transition: var(--t);
}

.form input:focus{
  border-color: rgba(124,58,237,0.55);
  box-shadow: 0 0 0 4px rgba(124,58,237,0.18);
}

.rowBtns{
  display:flex;
  gap: 10px;
  margin-top: 14px;
}

.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* =========================================================
   Empty
========================================================= */
.empty{
  padding: 22px 12px;
  margin: 12px 6px;
  border-radius: var(--r);

  text-align:center;
  background: rgba(255,255,255,0.04);
  border: 1px dashed rgba(255,255,255,0.12);
  opacity:0.88;
}

.emoji{ font-size: 34px; }
.t1{ margin-top: 6px; font-weight: 1000; }
.t2{ margin-top: 6px; font-size: 12px; color: var(--muted); font-weight:900; }

/* =========================================================
   Responsive
========================================================= */
@media (max-width: 960px){
  .grid{ grid-template-columns: 1fr; }
  .userList{ max-height: unset; }
  .header{ flex-direction: column; align-items:stretch; }
  .searchWrap{ width:100%; }
  .actions{ justify-content:flex-start; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .orb{ animation:none !important; }
}
