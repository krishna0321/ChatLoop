<div class="gi-page" *ngIf="room">

  <!-- âœ… Background -->
  <div class="gi-bg"></div>
  <div class="gi-orb gi-orb1"></div>
  <div class="gi-orb gi-orb2"></div>

  <!-- âœ… Top -->
  <div class="gi-top gi-fadeUp">
    <a class="gi-back" routerLink="/app/chats">â¬… Chats</a>

    <div class="gi-titleWrap">
      <div class="gi-title">{{ room.name }}</div>
      <div class="gi-sub">
        {{ room.type }} â€¢ {{ (room.members?.length || 0) }} members
      </div>
    </div>
  </div>

  <!-- âœ… Info Card -->
  <div class="gi-card gi-fadeUp">
    <div class="gi-row">
      <span>Description</span>
      <b>{{ room.description || 'No description' }}</b>
    </div>

    <div class="gi-actions">
      <button class="gi-btn ghost" (click)="openAddMembers()">âž• Add Members</button>
      <button class="gi-btn warn" (click)="leave()">ðŸšª Leave</button>
      <button class="gi-btn danger" *ngIf="isOwner()" (click)="deleteRoom()">ðŸ—‘ Delete</button>
    </div>
  </div>

  <!-- âœ… Members -->
  <div class="gi-section gi-fadeUp">Members</div>

  <div class="gi-list gi-fadeUp">
    <div class="gi-mem" *ngFor="let uid of room.members">
      <div class="gi-av">{{ getInitial(uid) }}</div>

      <div class="gi-meta">
        <div class="gi-nameRow">
          <span class="gi-name">{{ getUserName(uid) }}</span>

          <span class="gi-tag owner" *ngIf="room.ownerId === uid">Owner</span>
          <span class="gi-tag admin" *ngIf="isAdmin(uid) && room.ownerId !== uid">Admin</span>
        </div>

        <div class="gi-uid">{{ uid }}</div>
      </div>
    </div>
  </div>

</div>
